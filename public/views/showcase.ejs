<!doctype html>
<html lang="en" id="showcase-html">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <link rel="shortcut icon" href="favicon.png" type="image/x-icon">
    <!-- Bootstrap CSS and Google Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Caveat&family=Poppins&family=Recursive&family=Belgrano&family=Bellota&family=Langar&family=Handlee&family=Rye&family=Allison&family=IM+Fell+English&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="styles/style.css">
    <title>Showcase</title>
  </head>
  <body class="background-transparent">
    <div style="background-image: url('../images/scoresby/melody.gif');background-size: contain; height:80px;" class="w-100"></div>
    <h1 class="text-center mb-4 allison white-text w-100" style="font-size: 10rem;text-shadow: 2px 2px 10px #242424;;">Online Showcase</h1>
    <div style="background-image: url('../images/scoresby/melody.gif');background-size: contain; height:80px;" class="w-100 mb-5"></div>
    
    <div id="performancesContainer" class="mb-5"> 
        <% performances.forEach((performance) => { %>
          <div class="performanceContainer mb-5"><p class="white-text my-5 belgrano"><span style="font-size: 2.5rem;"><span class="green-text imfell"><%= performance.performer %></span></span><br><%= performance.speech %></p>
            <div class="responsive-container mb-4"><iframe width="560" height="315" src="<%= performance.videoURL %>" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div>
            <% performance.comments.forEach((comment) => { %>
              <p class="white-text"><span class="purple-text"><%= comment[0] %></span> says: <span class="orange-text"><%= comment[1] %></span></p>
            <% }) %>
            <form action="/addPerformanceComment" method="POST">
              <input type="hidden" name="studentName" value="<%= fName %>">
              <input type="hidden" name="performanceId" value="<%= performance._id %>">
              <input type="hidden" name="_csrf" value="<%= csrfToken %>">
              <textarea class="d-block w-100 mb-3 text-center" placeholder="Leave a positive and encouraging comment here!" name="comment" rows="3" required></textarea>
              <div class="text-center w-100"><button type="submit" class="rounded mb-5 text-center btn-secondary p-2">Add my comment</button></div>
            </form>
          </div>
        <% }) %>
    </div> <!-- close out page container div -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script src="../../main-bundled.js"></script>
  </body>
</html>